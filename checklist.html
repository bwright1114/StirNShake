<!DOCTYPE html>
<html>
<head>
  <title>Recipe Search</title>
  <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="assets/css/materialize.min.css">
  <!-- FONTS -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!-- ADDED STYLES -->
  <link rel="stylesheet" type="text/css" href="assets/css/style.css">
</head>
<body>
  <nav class="light-blue lighten-1" role="navigation">
    <div class="nav-wrapper container"><a id="logo-container" href="#" class="brand-logo">Logo</a>
      <ul class="right hide-on-med-and-down">
        <li><a href="#">Navbar Link</a></li>
      </ul>

      <ul id="nav-mobile" class="side-nav">
        <li><a href="#">Navbar Link</a></li>
      </ul>
      <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
    </div>
  </nav>


<div class="container">

<!-- TABLE TO LIST OUT INGREDIENTS AND PRICES -->
  <div class="row">
    <div class="col m8 center-align">
      <table class="highlight">
            <thead>
                <tr>
                    <th>Ingredients</th>
                    <th>Estimated Price ($)</th>
                </tr>
            </thead>

            <tbody id = "ingredients">
                <!-- <tr>
                  <td>Bananas</td>
                  <td>3</td>
                </tr>
               <tr>
                  <td>Chocolate chips</td>
                  <td>4</td>
                </tr>
              <tr>
                  <td>Pancake mix</td>
                  <td>4</td>
                </tr> -->
            </tbody>
          </table>
    </div>
  </div>

  <!-- TABLE TO LIST OUT recipe-->
  <div class="row">
    <div class="col m8 center-align">
      <table class="highlight" id="recipe">
            <thead>
            <tr>
               <th>Grocery List</th>
            </thead>

            <tbody id="checklist">

            
                
            </tbody>
            <button id="button"> Button</button>
            <button id="listBtn"> Generate Checklist</button>
          </table>

      
    </div>
  </div>

</div>
</body>
</html>

<script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>

<script>

var checklist = [];

$("#button").on("click", function() {
// Constructing a URL to search edamam for recipe
      var queryURL = "https://api.edamam.com/search?q=chicken&app_id=70126ed0&app_key=aa18e57f4d919037c6b20090d9b7739c"

      // Performing our AJAX GET request
      $.ajax({
          url: queryURL,
          method: "GET"
        })
        // After the data comes back from the API
        .done(function(response) {
          // Storing an array of results in the results variable
  

          var results = response.hits[0].recipe.ingredientLines;
          for (var i = 0; i<results.length; i++){
            

         
        var results2 = response.hits[0].recipe.ingredientLines[i];

           $("#ingredients").append("<tr>"+ "<td>" + results2 + "</td>" + "</tr>");

           checklist.push(results2);

         }

        })
})

  $("#listBtn").on("click", function (){

    for (var i = 0; i < checklist.length; i++){

      var item = checklist[i].split(" ");

      for (var i=0; i<item.length; i++){
      if(item[i] === "tablespoons"){
        item.splice(i, 1);

       }
     
  
  console.log(checklist);
     
    var checkItem = ("<tr>"+ "<td>" + "<input type='checkbox' id='checkItem" + [i] + "'/>" + "<label for='checkItem" + [i] + "''>" + item + "</label>" + "</td>" + "</tr>");
    
      
}
      

      
    console.log(item);
  

    $("#checklist").append(checkItem);


    }
  }

})
</script>

